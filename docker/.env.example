# ────────────── app core ──────────────
API_KEY=changeme
SECRET_KEY=changeme
DEBUG_STATUS=True
LOG_LEVEL=INFO
API_HOST=http://127.0.0.1
CORS_ALLOW_ALL_ORIGINS=False
ENVIRONMENT=development

# ────────────── networking: host-exposed ports ──────────────
HOST_API_PORT=8000
HOST_NGINX_PORT=8000
HOST_REDIS_PORT=6379
HOST_RABBITMQ_MANAGEMENT_PORT=15672
HOST_COACH_PORT=9000
HOST_NEO4J_HTTP=7474
HOST_NEO4J_BOLT=7687

# ────────────── networking: internal service ports ──────────────
API_PORT=8000
COACH_PORT=9000
BOT_CONTAINER_PORT=8000
HOST_RABBITMQ_PORT=5672
NEO4J_HTTP_CONTAINER=7474
NEO4J_BOLT_CONTAINER=7687

# ────────────── runtime & integrations ──────────────
REDIS_HOST=redis
REDIS_PORT=6379
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=secure_rabbitmq_user
RABBITMQ_PASSWORD=secure_rabbitmq_password
RABBITMQ_VHOST=/
# For Docker networks use service names (e.g. rabbitmq); on macOS/Windows localhost use host.docker.internal
RABBITMQ_SERVICE_HOST=rabbitmq
CF_TUNNEL_TOKEN=
TIME_ZONE=Europe/Kyiv
ALLOWED_HOSTS=["*"]
GOOGLE_APPLICATION_CREDENTIALS=google_creds.json
DJANGO_USER=admin
DJANGO_PASSWORD=admin
KNOWLEDGE_BASE_FOLDER_ID=

# ────────────── AI coach ──────────────
LLM_API_KEY=
EMBEDDING_MODEL=openai/text-embedding-3-large
LLM_PROVIDER=custom
LLM_MODEL=openrouter/openai/gpt-5-mini
AGENT_MODEL=openai/gpt-5-mini
AGENT_PROVIDER=openrouter
AI_COACH_HOST=ai_coach
AI_COACH_PORT=9000
LITELLM_LOG=WARNING
GRAPH_DATABASE_PROVIDER=neo4j
GRAPH_DATABASE_HOST=neo4j
GRAPH_DATABASE_NAME=neo4j
GRAPH_DATABASE_USERNAME=neo4j
GRAPH_DATABASE_PASSWORD=pleaseletmein
AI_COACH_INTERNAL_KEY_ID=gymbot-ai-coach-v1
AI_COACH_INTERNAL_API_KEY=change_me_ai_coach_hmac
AI_COACH_RATE_LIMIT=120
AI_COACH_RATE_PERIOD=60
AI_COACH_GENERATION_SEARCH_TIMEOUT=45
EXERCISE_GIF_BUCKET=exercises_guide
EXERCISE_GIF_BASE_URL=https://storage.googleapis.com

# ────────────── postgres ──────────────
DB_NAME=postgres
DB_USER=postgres
POSTGRES_PASSWORD=password
DB_PORT=5432
HOST_PG_PORT=15432
DB_HOST=db
POSTGRES_DB=postgres
PGDATA=/var/lib/postgresql/data/pgdata

# ────────────── vector database (qdrant) ──────────────
VECTOR_DB_PROVIDER=qdrant
VECTOR_DB_URL=http://qdrant:6333
VECTOR_DB_KEY=
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
HOST_QDRANT_HTTP_PORT=6333
HOST_QDRANT_GRPC_PORT=6334

# ——— Alembic / Cognee migration target ———
MIGRATION_DB_PROVIDER=postgres
MIGRATION_DB_NAME="${DB_NAME}"
MIGRATION_DB_HOST="${DB_HOST}"
MIGRATION_DB_PORT="${DB_PORT}"
MIGRATION_DB_USERNAME="${DB_USER}"
MIGRATION_DB_PASSWORD="${POSTGRES_PASSWORD}"

# ────────────── bot ──────────────
BOT_TOKEN=
BOT_PORT=8088
DEFAULT_LANG=ru
DIET_PLAN_PRICE=50
BOT_LINK=https://example.com
BOT_INTERNAL_HOST=bot
BOT_INTERNAL_PORT=8088
# Override to reach the bot container from inside Docker (bot service name) or the host network
BOT_SERVICE_HOST=bot
AI_COACH_SERVICE_HOST=ai_coach
DOCKER_BOT_START=false
AI_COACH_WORKER_CONCURRENCY=2
# In production set INTERNAL_API_KEY and optionally INTERNAL_IP_ALLOWLIST to protect internal endpoints
INTERNAL_API_KEY=
INTERNAL_IP_ALLOWLIST=
INTERNAL_HTTP_CONNECT_TIMEOUT=10.0
INTERNAL_HTTP_READ_TIMEOUT=30.0
WEBAPP_PUBLIC_URL=https://api.gymbot.site
WEBHOOK_HOST=https://api.gymbot.site
WEB_SERVER_HOST=0.0.0.0

# ────────────── nginx templating (prod/local) ──────────────
DOMAIN=example.com
SERVER_NAME=example.com
API_SERVICE=api
CLIENT_MAX_BODY_SIZE=50M
BOT_UPSTREAM_HOST=host.docker.internal
BOT_UPSTREAM_PORT=8088
BOT_SERVICE=bot

# ────────────── payments ──────────────
CHECKOUT_URL=https://www.liqpay.ua/api/3/checkout
PAYMENT_PUB_KEY=
PAYMENT_PRIVATE_KEY=
ACCOUNT_NUMBER=

# ────────────── legal, contacts & misc ──────────────
EMAIL=test@mail.com
TG_SUPPORT_CONTACT=https://example.com
PUBLIC_OFFER=https://example.com
PRIVACY_POLICY=https://example.com
SPREADSHEET_ID=1ER4_fxJZZydKBZqYxfwZbFVHYHyaW-OjsQl3HGvHo2s
ADMIN_LANG=ru
ADMIN_ID=your-tg-id
